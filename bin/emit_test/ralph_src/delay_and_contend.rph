
Service DelayAndContend
{
    TVar Number to_contend_on;

    contending_method ()
    {
        atomically
        {
            Number original_number = to_contend_on;
            Text verbatim_string =
                'try{Thread.sleep(1);} ' +
                'catch(InterruptedException ex){ ' +
                'ex.printStackTrace(); assert(false);}';
            
            verbatim(verbatim_string);
            to_contend_on += 1;
        }
    }
}
