alias Interface IReadTest as 'performance.IReadTestJava.IReadTest';

Endpoint Tester implements Interface IReadTest
{
    Map (from: Number, to: Number) map;
    TVar Map (from: Number, to: Number) atomic_map;

    Number number = 0;
    TVar Number atomic_number = 0;

    TVar Number other_atomic_number = 0;

    // @Override
    read_number() returns Number
    {
        return number;
    }

    // @Override
    read_atomic_number() returns Number
    {
        Number to_return;
        atomically
        {
            to_return = atomic_number;
        }
        return to_return;
    }
    
    // @Override
    read_other_atomic_number() returns Number
    {
        Number to_return;
        atomically
        {
            to_return = other_atomic_number;
        }
        return to_return;
    }
    
    // @Override
    read_map()
    {
        map.contains(3);
    }
    
    // @Override
    read_atomic_map()
    {
        atomically
        {
            atomic_map.contains(3);
        }
    }
}
